(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1001:function(e,t,n){},1003:function(e,t,n){"use strict";var r=n(4),a=n.n(r),o=(n(645),n(643)),c=(n(816),n(857)),i=(n(1001),n(6)),s=n(14),l=n(820),u=n(442),f=n(77);var p=Object(u.b)(function({toLogin:e,toReg:t}){const n=Object(r.useContext)(f.a).me;return a.a.createElement("div",{className:"NavBar"},a.a.createElement("div",null,a.a.createElement("div",{style:{cursor:"pointer"},onClick:()=>s.Control.go("/")},a.a.createElement("span",null,"默识"),a.a.createElement("span",null,"|"),a.a.createElement("span",null,"作者版")),a.a.createElement("div",null,n?a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,{title:a.a.createElement("span",{style:{padding:"0 8px"}},n.nickName),content:a.a.createElement("div",{className:"PopoverBtnList"},a.a.createElement("div",{onClick:()=>(Object(i.a)("/logout"),setTimeout(()=>window.location.reload(),300))},"退出")),trigger:"click",placement:"bottomRight"},a.a.createElement(l.a,{avatar:n.avatar}))):a.a.createElement(a.a.Fragment,null,a.a.createElement(o.a,{type:"primary",onClick:e},"登录"),a.a.createElement("div",{style:{width:"1em"}}),a.a.createElement(o.a,{onClick:t},"注册")))))});t.a=function({children:e}){return a.a.createElement(a.a.Fragment,null,a.a.createElement(p,{toLogin:()=>s.Control.go("/login"),toReg:()=>s.Control.go("/reg")}),e)}},1255:function(e,t,n){},1256:function(e,t,n){},1288:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=(n(323),n(112)),c=(n(34),n(5)),i=n.n(c),s=(n(818),n(821)),l=(n(645),n(643)),u=n(163),f=n.n(u),p=n(4),m=n.n(p),d=n(855);n(1255);var v=function({email:e,resend:t,confirm:n}){const r=Object(p.useState)(""),c=f()(r,2),u=c[0],v=c[1];return m.a.createElement(d.a,{className:"ActivatePanel"},m.a.createElement("div",null,"您的邮箱：",m.a.createElement("b",null,e),m.a.createElement(l.a,{style:{marginLeft:"1em"},onClick:i()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:"ok"===e.sent.state?o.a.success("发送成功，请查收，如未收到，请查看垃圾邮件"):o.a.error("发送失败");case 4:case"end":return e.stop()}},e)}))},"重新发送")),m.a.createElement(s.a,{style:{margin:"1em 0"},value:u,onInput:e=>v(e.target.value)}),m.a.createElement(l.a,{onClick:i()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n(u);case 1:case"end":return e.stop()}},e)})),type:"primary",style:{width:"100%"}},"确认"))},y=n(890),h=n(72),b=n(1003),g=n(77),E=n(442),O=n(14);n(1256);t.default=Object(E.b)(function(){Object(y.a)("激活 | 默识 - 作者端");const e=Object(p.useContext)(g.a).me;return m.a.createElement(b.a,null,m.a.createElement("div",{className:"Activate"},m.a.createElement(v,{email:e.email,resend:h.a.reSendActivateEmail,confirm:(t=i()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.activate(n);case 2:"ok"===t.sent.state?(o.a.success("激活成功"),e.status=h.a.STATUS.LEARNER,O.Control.go("/")):o.a.error("激活失败");case 4:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)})})));var t})},442:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return v});var r=n(0),a=n(4);if(!a.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!r.g)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");function o(e){var t=Object(a.useRef)(null);return t.current||(t.current=Object(r.e)(e)),t.current}var c=!1;function i(){return c}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function l(e){return e.current?Object(r.d)(e.current):"<unknown>"}var u=[];function f(){var e=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return c}(Object(a.useState)(0),2)[1];return Object(a.useCallback)(function(){e(function(e){return e+1})},[])}function p(e,t){if(void 0===t&&(t="observed"),i())return e();var n,o,c=f(),s=Object(a.useRef)(null);if(s.current||(s.current=new r.a("observer("+t+")",function(){c()})),Object(a.useDebugValue)(s,l),function(e){Object(a.useEffect)(function(){return e},u)}(function(){s.current.dispose()}),s.current.track(function(){try{n=e()}catch(e){o=e}}),o)throw s.current.dispose(),o;return n}function m(e,t){if(i())return e;var n,r,o,c=s({forwardRef:!1},t),l=e.displayName||e.name,u=function(t,n){return p(function(){return e(t,n)},l)};return u.displayName=l,n=c.forwardRef?Object(a.memo)(Object(a.forwardRef)(u)):Object(a.memo)(u),r=e,o=n,Object.keys(r).forEach(function(e){r.hasOwnProperty(e)&&!d[e]&&Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))}),n.displayName=l,n}var d={$$typeof:!0,render:!0,compare:!0,type:!0};function v(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:p(r)}function y(e,t,n,r,a){var o="children"===t?"render":"children",c="function"==typeof e[t],i="function"==typeof e[o];return c&&i?new Error("MobX Observer: Do not use children and render in the same time in`"+n):c||i?null:new Error("Invalid prop `"+a+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}v.propTypes={children:y,render:y},v.displayName="Observer"},666:function(e,t,n){var r=n(810);e.exports=function(e,t){if(null==e)return{};var n,a,o=r(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},810:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}},820:function(e,t,n){"use strict";n.d(t,"a",function(){return u});n(822);var r=n(824),a=n(207),o=n.n(a),c=n(666),i=n.n(c),s=n(4),l=n.n(s);n(6);function u(e){let t=e.avatar,n=e.onClick,a=i()(e,["avatar","onClick"]);return l.a.createElement("div",{onClick:n},l.a.createElement(r.a,o()({style:{cursor:"pointer"},shape:"square"},t?{src:t}:{icon:"user"},a)))}},822:function(e,t,n){"use strict";n(322),n(823)},823:function(e,t,n){},824:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(4),a=n(36),o=n(130),c=n(55),i=n.n(c),s=n(632);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},h=function(e){function t(){var e,n,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,c=m(t).apply(this,arguments),(e=!c||"object"!==l(c)&&"function"!=typeof c?d(n):c).state={scale:1,isImgExist:!0,avatarDisplay:!0},e.setScale=function(){var t=e.avatarChildren;if(t&&0!==t.offsetWidth){var n=t.offsetWidth,r=a.findDOMNode(d(e)).getBoundingClientRect().width;r-8<n?e.setState({scale:(r-8)/n}):e.setState({scale:1})}},e.handleImgLoadError=function(){var t=e.props.onError;!1!==(t?t():void 0)&&e.setState({isImgExist:!1})},e.renderAvatar=function(t){var n,a,c=t.getPrefixCls,s=e.props,l=s.prefixCls,p=s.shape,m=s.size,d=s.src,v=s.srcSet,h=s.icon,b=s.className,g=s.alt,E=y(s,["prefixCls","shape","size","src","srcSet","icon","className","alt"]),O=e.state,w=O.isImgExist,j=O.scale,C=c("avatar",l),k=i()((f(n={},"".concat(C,"-lg"),"large"===m),f(n,"".concat(C,"-sm"),"small"===m),n)),x=i()(C,b,k,(f(a={},"".concat(C,"-").concat(p),p),f(a,"".concat(C,"-image"),d&&w),f(a,"".concat(C,"-icon"),h),a)),S="number"==typeof m?{width:m,height:m,lineHeight:"".concat(m,"px"),fontSize:h?m/2:18}:{},P=e.props.children;if(d&&w)P=r.createElement("img",{src:d,srcSet:v,onError:e.handleImgLoadError,alt:g});else if(h)P=r.createElement(o.a,{type:h});else{if(e.avatarChildren||1!==j){var N="scale(".concat(j,") translateX(-50%)"),R={msTransform:N,WebkitTransform:N,transform:N},I="number"==typeof m?{lineHeight:"".concat(m,"px")}:{};P=r.createElement("span",{className:"".concat(C,"-string"),ref:function(t){return e.avatarChildren=t},style:u({},I,R)},P)}else P=r.createElement("span",{className:"".concat(C,"-string"),ref:function(t){return e.avatarChildren=t}},P)}return r.createElement("span",u({},E,{style:u({},S,E.style),className:x}),P)},e}var n,c,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r["Component"]),n=t,(c=[{key:"componentDidMount",value:function(){this.setScale()}},{key:"componentDidUpdate",value:function(e,t){e.children!==this.props.children||t.scale!==this.state.scale&&1===this.state.scale||t.isImgExist!==this.state.isImgExist||!this.state.avatarDisplay?(this.setScale(),this.avatarChildren&&0!==this.avatarChildren.offsetWidth&&this.setState({avatarDisplay:!0})):this.avatarChildren&&0===this.avatarChildren.offsetWidth&&1===this.state.scale&&this.setState({avatarDisplay:!1}),e.src!==this.props.src&&this.setState({isImgExist:!0,scale:1})}},{key:"render",value:function(){return r.createElement(s.a,null,this.renderAvatar)}}])&&p(n.prototype,c),h&&p(n,h),t}();h.defaultProps={shape:"circle",size:"default"}},855:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(4),a=n.n(r);n(856);function o({children:e,className:t,style:n,onClick:r}){return a.a.createElement("div",{className:`Panel ${t||""}`,style:n,onClick:r||(()=>null)},e)}},856:function(e,t,n){},890:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(4);function a(e){Object(r.useEffect)(()=>{document.title=e},[e])}}}]);